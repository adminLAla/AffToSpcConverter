<Window x:Class="AffToSpcConverter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Arcaea → In Falsus Converter" Height="720" Width="1100">
    <DockPanel Margin="12">

        <!-- Menu -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="Open .aff..." Click="BtnOpenAff_Click"/>
                <MenuItem Header="Save .spc..." Click="BtnSaveSpc_Click"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="MenuExit_Click"/>
            </MenuItem>

            <MenuItem Header="_Package">
                <MenuItem Header="Package Assets..." Click="MenuPackage_Click"/>
            </MenuItem>

            <MenuItem Header="_Options">
                <MenuItem Header="Recommended keymap (lane4→lane5)"
                          IsCheckable="True"
                          IsChecked="{Binding RecommendedKeymap}"/>
                <MenuItem Header="Disable lanes (0 &amp; 4)"
                          IsCheckable="True"
                          IsChecked="{Binding DisableLanes}"/>
                <Separator/>
                <MenuItem Header="Settings..." Click="MenuSettings_Click"/>
            </MenuItem>

            <MenuItem Header="_Tools">
                <MenuItem Header="Generate report..." Click="MenuReport_Click"/>
            </MenuItem>

            <MenuItem Header="_Help">
                <MenuItem Header="About" Click="MenuAbout_Click"/>
            </MenuItem>
        </Menu>

        <!-- Main content -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="{Binding ActualHeight, ElementName=MainWindow}"/>
            </Grid.RowDefinitions>

            <!-- Top Buttons -->
            <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,8">
                <Button Width="120" Margin="0,0,8,0" Click="BtnOpenAff_Click">Open .aff</Button>
                <Button Width="120" Margin="0,0,8,0" Click="BtnConvert_Click">Convert</Button>
                <Button Width="120" Click="BtnSaveSpc_Click">Save .spc</Button>
                <TextBlock Margin="16,0,0,0" VerticalAlignment="Center" Text="{Binding Status}"/>
            </StackPanel>

            <!-- Preview -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <GroupBox Header="Input (.aff)" Grid.Column="0" Margin="0,0,6,0">
                    <TextBox Text="{Binding AffPreview}" FontFamily="Consolas" FontSize="12"
                             VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                             IsReadOnly="True" TextWrapping="NoWrap"/>
                </GroupBox>

                <GroupBox Header="Output (.spc preview)" Grid.Column="1" Margin="6,0,0,0">
                    <TextBox Text="{Binding SpcPreview}" FontFamily="Consolas" FontSize="12"
                             VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                             IsReadOnly="True" TextWrapping="NoWrap"/>
                </GroupBox>
            </Grid>
        </Grid>

    </DockPanel>
</Window>